(()=>{const e=document.querySelector(".tasty-recipes"),t=function(){if(!e)return;const t=window.getComputedStyle(e),n=e.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)+50;window.parent.postMessage(JSON.stringify({event:"setRecipeCardSize",height:n}),"*")};window.addEventListener("DOMContentLoaded",t),t(),window.addEventListener("DOMContentLoaded",()=>{!function(){if(!e)return;const n=e.getElementsByTagName("iframe"),o=e.getElementsByTagName("img");0===n.length&&0===o.length||(Array.from(n).forEach(e=>{e.onload=t}),Array.from(o).forEach(e=>{e.onload=t}))}();const n=document.querySelector(".tasty-recipes-pro-template img");n&&n.addEventListener("click",()=>{window.parent.postMessage(JSON.stringify({event:"proImageClicked"}),"*")})}),window.addEventListener("message",e=>{if(window.location.origin!==e.origin||"string"!=typeof e.data)return;const n=JSON.parse(e.data);if("updateCustomization"===n.event){const e=n.data;e.star_color||(e.star_color=e.detail_value_color?e.detail_value_color:"#F2B955"),document.querySelectorAll("[data-tasty-recipes-customization]").forEach(t=>{t.getAttribute("data-tasty-recipes-customization").split(" ").forEach(n=>{if(-1===n.indexOf("."))return;const o=n.split("."),r=o[0].replace(/-/g,"_");void 0!==e[r]&&("innerText"!==o[1]?"innerHTML"!==o[1]?e[r].length?t.style.setProperty(o[1],e[r]):t.style.removeProperty(o[1]):t.innerHTML=e[r]:t.innerText=e[r])})}),t()}})})();